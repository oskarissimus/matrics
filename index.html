<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Matrics - 3D FPS Game</title>
    <link rel="stylesheet" href="styles/main.css" />
    <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@0.140.0/build/three.module.js",
          "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.140.0/examples/jsm/"
        }
      }
    </script>
  </head>
  <body>
    <div id="gameCanvas"></div>
    <div id="hud">
      <div id="playerName"></div>
      <div id="instructions">
        WASD - Move<br />
        Mouse - Look<br />
        Click - Shoot<br />
        ESC - Release pointer<br />
        ~ - Console
      </div>
      <div id="crosshair"></div>
      <div id="hpText">HP: 100</div>
      <div id="hpBar">
        <div id="hpFill"></div>
      </div>
    </div>

    <div id="deathMessage">YOU DIED</div>

    <div id="clickToPlayOverlay" class="hidden">
      <div id="usernameDisplay">
        <span id="currentUsername"></span>
        <input type="text" id="inlineNameInput" class="hidden" maxlength="20" autocomplete="off" placeholder="Your name" />
        <button id="editUsernameBtn" title="Edit name">&#9998;</button>
        <button id="saveUsernameBtn" class="hidden" title="Save">&#10003;</button>
        <button id="cancelUsernameBtn" class="hidden" title="Cancel">&#10005;</button>
      </div>
      <div id="clickToPlayText">Click to Play</div>
    </div>

    <div id="scoreboard">
      <h2>SCOREBOARD</h2>
      <table id="scoreboardTable">
        <thead>
          <tr>
            <th>Player</th>
            <th>Kills</th>
            <th>Deaths</th>
          </tr>
        </thead>
        <tbody id="scoreboardBody">
        </tbody>
      </table>
    </div>

    <div id="gameConsole">
      <div id="consoleOutput"></div>
      <div id="consoleInputLine">
        <span id="consolePrompt">] </span>
        <input type="text" id="consoleInput" autocomplete="off" spellcheck="false" />
      </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="maps.js"></script>
    <script type="module" src="client/main.js"></script>
  </body>
</html>
